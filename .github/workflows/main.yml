# This is a basic workflow to help you get started with Actions

name: Github actions maven build example

# Controls when the workflow will run
on:
  # Triggers the workflow on pushe events but only for the main branch
  push:
    branches: [ main ]
    
jobs:
  # This workflow contains a single job called "build"
  build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      - name: step 1 - Checkout main branch from github
        uses: actions/checkout@v2
      
      - name: Step 2 - Set up JDK 1.8
        uses: actions/setup-java@v1
        with:
          java-version: 1.8
          
      - name: Step 3 - Build maven project
        run:  mvn clean compile package -Dmaven.test.skip=true
      
      - name: Step 4 - List the current directory
        run: ls -a
        
      - name: what is the target folder ?
        run: |
            cd target
            ls -a
